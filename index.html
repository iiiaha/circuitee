<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuitee - 조명 회로 설계 시뮬레이터</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 헤더 -->
    <header>
        <h1>Circuitee</h1>
        <div class="controls">
            <button id="modeToggle" class="btn">편집 모드</button>
            <button id="shareBtn" class="btn btn-primary">공유하기</button>
        </div>
    </header>

    <!-- 메인 컨테이너 -->
    <div class="main-container">
        <!-- 사이드바 (편집 모드용) -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>편집 도구</h3>
            </div>
            
            <div class="sidebar-content">
                <!-- 평면도 섹션 -->
                <div class="tool-group">
                    <button id="uploadBtn" class="tool-btn-modern">
                        <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <span>평면도 업로드</span>
                    </button>
                    <input type="file" id="fileInput" accept="image/*" hidden>
                </div>
                
                <!-- 요소 도구 섹션 -->
                <div class="tool-group">
                    <div class="tool-group-label">요소 추가</div>
                    <button class="tool-btn-modern" data-tool="switch">
                        <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="8" width="18" height="8" rx="2"/>
                            <circle cx="7" cy="12" r="2"/>
                        </svg>
                        <span>스위치</span>
                    </button>
                    <button class="tool-btn-modern" data-tool="light">
                        <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="5"/>
                            <line x1="12" y1="1" x2="12" y2="3"/>
                            <line x1="12" y1="21" x2="12" y2="23"/>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                            <line x1="1" y1="12" x2="3" y2="12"/>
                            <line x1="21" y1="12" x2="23" y2="12"/>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                        </svg>
                        <span>조명</span>
                    </button>
                    <button class="tool-btn-modern" data-tool="linear-light">
                        <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12" stroke-width="3"/>
                            <line x1="5" y1="8" x2="5" y2="16"/>
                            <line x1="19" y1="8" x2="19" y2="16"/>
                        </svg>
                        <span>직선 조명</span>
                    </button>
                </div>
                
                <!-- 연결 도구 섹션 -->
                <div class="tool-group">
                    <button id="connectBtn" class="tool-btn-modern">
                        <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                            <polyline points="15 3 21 3 21 9"/>
                            <line x1="10" y1="14" x2="21" y2="3"/>
                        </svg>
                        <span>연결 모드</span>
                    </button>
                </div>
                
                <!-- 액션 섹션 -->
                <div class="tool-group tool-group-bottom">
                    <button id="clearBtn" class="tool-btn-modern tool-btn-danger">
                        <svg class="tool-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="3 6 5 6 21 6"/>
                            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                        </svg>
                        <span>모두 지우기</span>
                    </button>
                </div>
            </div>
        </aside>

        <!-- 캔버스 영역 -->
        <main class="canvas-container">
            <div id="canvas" class="canvas">
                <div id="floorPlanLayer" class="layer floor-plan-layer">
                    <!-- 평면도 이미지가 여기에 표시됨 -->
                </div>
                <div id="connectionLayer" class="layer connection-layer">
                    <!-- 연결선이 여기에 그려짐 -->
                </div>
                <div id="elementLayer" class="layer element-layer">
                    <!-- 스위치와 조명 요소들이 여기에 추가됨 -->
                </div>
            </div>
        </main>
    </div>

    <!-- 공유 모달 -->
    <div id="shareModal" class="modal" hidden>
        <div class="modal-content">
            <h3>프로젝트 공유</h3>
            <p>아래 링크를 복사하여 고객에게 전달하세요:</p>
            <div class="url-container">
                <input type="text" id="shareUrl" readonly>
                <button id="copyBtn" class="btn">복사</button>
            </div>
            <button id="closeModal" class="btn">닫기</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"></script>
    <script src="script.js"></script>
</body>
</html>